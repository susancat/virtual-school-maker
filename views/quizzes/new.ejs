<%- include("../partials/header") %>
<%- include("../partials/vsmHeader") %>
<div class="container">
    <div class="row">
        <h1 class="text-center create_div" style="width:40%; margin: auto;">Create a new quiz</h1>
    </div>
    <div class="row">
        <div class="create_div" style="width:40%; margin: 25px auto;" data-step="1" data-intro="Create your own quiz here and submit!" data-position="left">
            <form action="/quizzes" method="POST" enctype="multipart/form-data">   
                <div class="form-group">
                    <input class="form-control" type="text" name="title" placeholder="Title (required)" required>
                </div>
                <div class="form-group">
                    <select class="form-control" name="category">
                        <option selected>- Category -</option>
                        <option>Animal</option>
                        <option>Food and Drink</option>
                        <option>World</option>
                        <option>Science</option>
                    </select>
                </div>
                <div class="form-group">
                    <select class="form-control" name="level">
                        <option selected>- Difficulty level -</option>
                        <option>Easy</option>
                        <option>Medium</option>
                        <option>Difficult</option>
                    </select>
                </div>
                <div class="form-group">
                    <textarea rows=5 class="form-control" type="text" name="description" placeholder="Description"></textarea>
                </div>
                <div class="form-inline mb-2">
                    <label for="img">Upload Image&nbsp;&nbsp;</label>
                    <img id="preview" src="#" alt="" />
                    <input class="form-control ml-auto" style="width: 70%" type="file" id="img" name="image">
                </div>
                <div class="form-inline">
                    <label for="op1">Set to be publicly shared?&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <input style="width: 1.5rem;" id="op1" class="form-control ml-auto" type="checkbox" name="public" checked value="true">
                </div>
                <div class="form-group mt-2">
                    <button class="btn btn-lg btn-primary btn-block">Submit</button>
                </div>
            </form>
        </div>
    </div>  
</div>
<%- include("../partials/footer") %>
<script>
$('#op1').prop('checked', false);
</script>
<script type="text/javascript">
if (RegExp('multipage', 'gi').test(window.location.search)) {
    introJs().setOption("showStepNumbers",false).start()
}

function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    
    reader.onload = function(e) {
      $('#preview').attr('src', e.target.result);
    }
    
    reader.readAsDataURL(input.files[0]); // convert to base64 string
  }
}

$("#img").change(function() {
  readURL(this);
});
</script>